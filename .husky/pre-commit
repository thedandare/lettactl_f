pnpm typecheck
pnpm build

# E2E tests require a running Letta server
if [ -z "$LETTA_BASE_URL" ]; then
  echo ""
  echo "ERROR: LETTA_BASE_URL not set"
  echo ""
  echo "E2E tests are required before committing."
  echo ""
  echo "  1. Start server:  letta server"
  echo "  2. Set URL:       export LETTA_BASE_URL=http://localhost:8283"
  echo "  3. Try commit again"
  echo ""
  exit 1
fi

./tests/e2e/script.sh
